From c4da7e5f2d4918f5bc3c7b9106ab0ccfdc24a454 Mon Sep 17 00:00:00 2001
From: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
Date: Thu, 19 Jan 2017 16:25:54 +1100
Subject: [PATCH 39/47] dpnet: Fake success from IDirectPlay8Peer
 EnumPlayersAndGroups

Signed-off-by: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
---
 dlls/dpnet/peer.c | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

diff --git a/dlls/dpnet/peer.c b/dlls/dpnet/peer.c
index 70e880e..f26fa07 100644
--- a/dlls/dpnet/peer.c
+++ b/dlls/dpnet/peer.c
@@ -509,7 +509,19 @@ static HRESULT WINAPI IDirectPlay8PeerImpl_EnumPlayersAndGroups(IDirectPlay8Peer
 {
     FIXME("(%p)->(%p,%p,%x): stub\n", iface, prgdpnid, pcdpnid, dwFlags);
 
-    return DPNERR_GENERIC;
+    if(pcdpnid)
+    {
+        int i = 0;
+        FIXME("pcdpnid %d\n", *pcdpnid);
+
+        for(; i < *pcdpnid; i++)
+        {
+            prgdpnid[i] = 0; /* FIXME */
+        }
+
+    }
+
+    return S_OK;
 }
 
 static HRESULT WINAPI IDirectPlay8PeerImpl_EnumGroupMembers(IDirectPlay8Peer *iface,
-- 
1.9.1

