From 5e4abb17ebdb50fbc2dd8af0f210e5511ee4fb08 Mon Sep 17 00:00:00 2001
From: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
Date: Tue, 19 Dec 2017 13:37:39 +1100
Subject: [PATCH] d3dx9: Added D3DXCreateKeyframedAnimationSet stub

Signed-off-by: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
---
 dlls/d3dx9_24/d3dx9_24.spec |  2 +-
 dlls/d3dx9_25/d3dx9_25.spec |  2 +-
 dlls/d3dx9_26/d3dx9_26.spec |  2 +-
 dlls/d3dx9_27/d3dx9_27.spec |  2 +-
 dlls/d3dx9_28/d3dx9_28.spec |  2 +-
 dlls/d3dx9_29/d3dx9_29.spec |  2 +-
 dlls/d3dx9_30/d3dx9_30.spec |  2 +-
 dlls/d3dx9_31/d3dx9_31.spec |  2 +-
 dlls/d3dx9_32/d3dx9_32.spec |  2 +-
 dlls/d3dx9_33/d3dx9_33.spec |  2 +-
 dlls/d3dx9_34/d3dx9_34.spec |  2 +-
 dlls/d3dx9_35/d3dx9_35.spec |  2 +-
 dlls/d3dx9_36/animation.c   | 12 ++++++++++++
 dlls/d3dx9_36/d3dx9_36.spec |  2 +-
 dlls/d3dx9_37/d3dx9_37.spec |  2 +-
 dlls/d3dx9_38/d3dx9_38.spec |  2 +-
 dlls/d3dx9_39/d3dx9_39.spec |  2 +-
 dlls/d3dx9_40/d3dx9_40.spec |  2 +-
 dlls/d3dx9_41/d3dx9_41.spec |  2 +-
 dlls/d3dx9_42/d3dx9_42.spec |  2 +-
 dlls/d3dx9_43/d3dx9_43.spec |  2 +-
 21 files changed, 32 insertions(+), 20 deletions(-)

diff --git a/dlls/d3dx9_24/d3dx9_24.spec b/dlls/d3dx9_24/d3dx9_24.spec
index d816fd8..0b9626f 100644
--- a/dlls/d3dx9_24/d3dx9_24.spec
+++ b/dlls/d3dx9_24/d3dx9_24.spec
@@ -64,7 +64,7 @@
 @ stdcall D3DXCreateFontIndirectW(ptr ptr ptr)
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_25/d3dx9_25.spec b/dlls/d3dx9_25/d3dx9_25.spec
index e15230d..a957005 100644
--- a/dlls/d3dx9_25/d3dx9_25.spec
+++ b/dlls/d3dx9_25/d3dx9_25.spec
@@ -64,7 +64,7 @@
 @ stdcall D3DXCreateFontIndirectW(ptr ptr ptr)
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_26/d3dx9_26.spec b/dlls/d3dx9_26/d3dx9_26.spec
index ac25d06..1caa9ea 100644
--- a/dlls/d3dx9_26/d3dx9_26.spec
+++ b/dlls/d3dx9_26/d3dx9_26.spec
@@ -68,7 +68,7 @@
 @ stdcall D3DXCreateFontIndirectW(ptr ptr ptr)
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_27/d3dx9_27.spec b/dlls/d3dx9_27/d3dx9_27.spec
index ac25d06..1caa9ea 100644
--- a/dlls/d3dx9_27/d3dx9_27.spec
+++ b/dlls/d3dx9_27/d3dx9_27.spec
@@ -68,7 +68,7 @@
 @ stdcall D3DXCreateFontIndirectW(ptr ptr ptr)
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_28/d3dx9_28.spec b/dlls/d3dx9_28/d3dx9_28.spec
index a6378d8..8b46ac9 100644
--- a/dlls/d3dx9_28/d3dx9_28.spec
+++ b/dlls/d3dx9_28/d3dx9_28.spec
@@ -68,7 +68,7 @@
 @ stdcall D3DXCreateFontIndirectW(ptr ptr ptr)
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_29/d3dx9_29.spec b/dlls/d3dx9_29/d3dx9_29.spec
index a6378d8..8b46ac9 100644
--- a/dlls/d3dx9_29/d3dx9_29.spec
+++ b/dlls/d3dx9_29/d3dx9_29.spec
@@ -68,7 +68,7 @@
 @ stdcall D3DXCreateFontIndirectW(ptr ptr ptr)
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_30/d3dx9_30.spec b/dlls/d3dx9_30/d3dx9_30.spec
index f122583..d4eee10 100644
--- a/dlls/d3dx9_30/d3dx9_30.spec
+++ b/dlls/d3dx9_30/d3dx9_30.spec
@@ -68,7 +68,7 @@
 @ stdcall D3DXCreateFontIndirectW(ptr ptr ptr)
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_31/d3dx9_31.spec b/dlls/d3dx9_31/d3dx9_31.spec
index a0a74a5..b6ba5a7 100644
--- a/dlls/d3dx9_31/d3dx9_31.spec
+++ b/dlls/d3dx9_31/d3dx9_31.spec
@@ -67,7 +67,7 @@
 @ stdcall D3DXCreateFontIndirectW(ptr ptr ptr)
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_32/d3dx9_32.spec b/dlls/d3dx9_32/d3dx9_32.spec
index e4e4fc6..983dabb 100644
--- a/dlls/d3dx9_32/d3dx9_32.spec
+++ b/dlls/d3dx9_32/d3dx9_32.spec
@@ -67,7 +67,7 @@
 @ stdcall D3DXCreateFontIndirectW(ptr ptr ptr)
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_33/d3dx9_33.spec b/dlls/d3dx9_33/d3dx9_33.spec
index e4e4fc6..983dabb 100644
--- a/dlls/d3dx9_33/d3dx9_33.spec
+++ b/dlls/d3dx9_33/d3dx9_33.spec
@@ -67,7 +67,7 @@
 @ stdcall D3DXCreateFontIndirectW(ptr ptr ptr)
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_34/d3dx9_34.spec b/dlls/d3dx9_34/d3dx9_34.spec
index e4e4fc6..983dabb 100644
--- a/dlls/d3dx9_34/d3dx9_34.spec
+++ b/dlls/d3dx9_34/d3dx9_34.spec
@@ -67,7 +67,7 @@
 @ stdcall D3DXCreateFontIndirectW(ptr ptr ptr)
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_35/d3dx9_35.spec b/dlls/d3dx9_35/d3dx9_35.spec
index e4e4fc6..983dabb 100644
--- a/dlls/d3dx9_35/d3dx9_35.spec
+++ b/dlls/d3dx9_35/d3dx9_35.spec
@@ -67,7 +67,7 @@
 @ stdcall D3DXCreateFontIndirectW(ptr ptr ptr)
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_36/animation.c b/dlls/d3dx9_36/animation.c
index 818bd7a..420ecc6 100644
--- a/dlls/d3dx9_36/animation.c
+++ b/dlls/d3dx9_36/animation.c
@@ -469,3 +469,15 @@ HRESULT WINAPI D3DXCreateAnimationController(UINT max_outputs, UINT max_sets,
 
     return D3D_OK;
 }
+
+HRESULT WINAPI D3DXCreateKeyframedAnimationSet(const char *name, double ticks_per_second,
+        D3DXPLAYBACK_TYPE playback_type, UINT animation_count, UINT callback_key_count,
+        const D3DXKEY_CALLBACK *callback_keys, ID3DXKeyframedAnimationSet **animation_set)
+{
+    FIXME("name %s, ticks_per_second %.16e, playback_type %u, animation_count %u, "
+           "callback_key_count %u, callback_keys %p, animation_set %p stub.\n",
+            debugstr_a(name), ticks_per_second, playback_type, animation_count,
+            callback_key_count, callback_keys, animation_set);
+
+    return E_NOTIMPL;
+}
diff --git a/dlls/d3dx9_36/d3dx9_36.spec b/dlls/d3dx9_36/d3dx9_36.spec
index 0d9fdab..80c6ba5 100644
--- a/dlls/d3dx9_36/d3dx9_36.spec
+++ b/dlls/d3dx9_36/d3dx9_36.spec
@@ -68,7 +68,7 @@
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
 @ stdcall D3DXCreateFragmentLinkerEx(ptr long long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_37/d3dx9_37.spec b/dlls/d3dx9_37/d3dx9_37.spec
index 0d9fdab..80c6ba5 100644
--- a/dlls/d3dx9_37/d3dx9_37.spec
+++ b/dlls/d3dx9_37/d3dx9_37.spec
@@ -68,7 +68,7 @@
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
 @ stdcall D3DXCreateFragmentLinkerEx(ptr long long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_38/d3dx9_38.spec b/dlls/d3dx9_38/d3dx9_38.spec
index 0d9fdab..80c6ba5 100644
--- a/dlls/d3dx9_38/d3dx9_38.spec
+++ b/dlls/d3dx9_38/d3dx9_38.spec
@@ -68,7 +68,7 @@
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
 @ stdcall D3DXCreateFragmentLinkerEx(ptr long long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_39/d3dx9_39.spec b/dlls/d3dx9_39/d3dx9_39.spec
index 0d9fdab..80c6ba5 100644
--- a/dlls/d3dx9_39/d3dx9_39.spec
+++ b/dlls/d3dx9_39/d3dx9_39.spec
@@ -68,7 +68,7 @@
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
 @ stdcall D3DXCreateFragmentLinkerEx(ptr long long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_40/d3dx9_40.spec b/dlls/d3dx9_40/d3dx9_40.spec
index 0d9fdab..80c6ba5 100644
--- a/dlls/d3dx9_40/d3dx9_40.spec
+++ b/dlls/d3dx9_40/d3dx9_40.spec
@@ -68,7 +68,7 @@
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
 @ stdcall D3DXCreateFragmentLinkerEx(ptr long long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_41/d3dx9_41.spec b/dlls/d3dx9_41/d3dx9_41.spec
index 0d9fdab..80c6ba5 100644
--- a/dlls/d3dx9_41/d3dx9_41.spec
+++ b/dlls/d3dx9_41/d3dx9_41.spec
@@ -68,7 +68,7 @@
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
 @ stdcall D3DXCreateFragmentLinker(ptr long ptr)
 @ stdcall D3DXCreateFragmentLinkerEx(ptr long long ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_42/d3dx9_42.spec b/dlls/d3dx9_42/d3dx9_42.spec
index 086d0b5..ca07eda 100644
--- a/dlls/d3dx9_42/d3dx9_42.spec
+++ b/dlls/d3dx9_42/d3dx9_42.spec
@@ -66,7 +66,7 @@
 @ stdcall D3DXCreateFontIndirectA(ptr ptr ptr)
 @ stdcall D3DXCreateFontIndirectW(ptr ptr ptr)
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
diff --git a/dlls/d3dx9_43/d3dx9_43.spec b/dlls/d3dx9_43/d3dx9_43.spec
index 086d0b5..ca07eda 100644
--- a/dlls/d3dx9_43/d3dx9_43.spec
+++ b/dlls/d3dx9_43/d3dx9_43.spec
@@ -66,7 +66,7 @@
 @ stdcall D3DXCreateFontIndirectA(ptr ptr ptr)
 @ stdcall D3DXCreateFontIndirectW(ptr ptr ptr)
 @ stdcall D3DXCreateFontW(ptr long long long long long long long long long wstr ptr)
-@ stub D3DXCreateKeyframedAnimationSet(ptr long long long long ptr ptr)
+@ stdcall D3DXCreateKeyframedAnimationSet(str long long long long ptr ptr)
 @ stdcall D3DXCreateLine(ptr ptr)
 @ stdcall D3DXCreateMatrixStack(long ptr)
 @ stdcall D3DXCreateMesh(long long long ptr ptr ptr)
-- 
1.9.1

