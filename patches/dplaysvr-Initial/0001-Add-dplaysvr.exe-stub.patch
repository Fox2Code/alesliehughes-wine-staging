From e6e5ec67f9daaaf1ad6ce590e4cd6e9efe9ecdcf Mon Sep 17 00:00:00 2001
From: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
Date: Tue, 28 Nov 2017 14:16:20 +1100
Subject: [PATCH] Add dplaysvr.exe stub

Signed-off-by: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
---
 configure                     |  2 ++
 configure.ac                  |  1 +
 programs/dplaysvr/Makefile.in |  5 +++++
 programs/dplaysvr/main.c      | 33 +++++++++++++++++++++++++++++++++
 4 files changed, 41 insertions(+)
 create mode 100644 programs/dplaysvr/Makefile.in
 create mode 100644 programs/dplaysvr/main.c

diff --git a/configure b/configure
index 4217def..22af135 100755
--- a/configure
+++ b/configure
@@ -1601,6 +1601,7 @@ enable_cmd
 enable_conhost
 enable_control
 enable_cscript
+enable_dplaysvr
 enable_dpnsvr
 enable_dxdiag
 enable_eject
@@ -19116,6 +19117,7 @@ wine_fn_config_test programs/cmd/tests cmd.exe_test
 wine_fn_config_program conhost enable_conhost install
 wine_fn_config_program control enable_control install
 wine_fn_config_program cscript enable_cscript clean,install
+wine_fn_config_program dplaysvr enable_dplaysvr install
 wine_fn_config_program dpnsvr enable_dpnsvr install
 wine_fn_config_program dxdiag enable_dxdiag clean,install
 wine_fn_config_program eject enable_eject install
diff --git a/configure.ac b/configure.ac
index 22620ec..3a84e18 100644
--- a/configure.ac
+++ b/configure.ac
@@ -3731,6 +3731,7 @@ WINE_CONFIG_TEST(programs/cmd/tests)
 WINE_CONFIG_PROGRAM(conhost,,[install])
 WINE_CONFIG_PROGRAM(control,,[install])
 WINE_CONFIG_PROGRAM(cscript,,[clean,install])
+WINE_CONFIG_PROGRAM(dplaysvr,,[install])
 WINE_CONFIG_PROGRAM(dpnsvr,,[install])
 WINE_CONFIG_PROGRAM(dxdiag,,[clean,install])
 WINE_CONFIG_PROGRAM(eject,,[install])
diff --git a/programs/dplaysvr/Makefile.in b/programs/dplaysvr/Makefile.in
new file mode 100644
index 0000000..d9c6c55
--- /dev/null
+++ b/programs/dplaysvr/Makefile.in
@@ -0,0 +1,5 @@
+MODULE    = dplaysvr.exe
+APPMODE   = -mconsole -municode
+
+C_SRCS = \
+	main.c
diff --git a/programs/dplaysvr/main.c b/programs/dplaysvr/main.c
new file mode 100644
index 0000000..4ecfd45
--- /dev/null
+++ b/programs/dplaysvr/main.c
@@ -0,0 +1,33 @@
+/*
+ * Copyright 2015 Alistair Leslie-Hughes
+ *
+ * This library is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Lesser General Public
+ * License as published by the Free Software Foundation; either
+ * version 2.1 of the License, or (at your option) any later version.
+ *
+ * This library is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Lesser General Public License for more details.
+ *
+ * You should have received a copy of the GNU Lesser General Public
+ * License along with this library; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA
+ */
+
+#include "wine/debug.h"
+
+WINE_DEFAULT_DEBUG_CHANNEL(dpnsvr);
+
+int wmain(int argc, WCHAR *argv[])
+{
+    int i;
+
+    WINE_FIXME("stub:");
+    for (i = 0; i < argc; i++)
+        WINE_FIXME(" %s", wine_dbgstr_w(argv[i]));
+    WINE_FIXME("\n");
+
+    return 0;
+}
-- 
1.9.1

