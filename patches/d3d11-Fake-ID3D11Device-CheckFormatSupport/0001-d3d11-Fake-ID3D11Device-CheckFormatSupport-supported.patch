From 1be39a8a412de7b11db910bbb2e11c29855807be Mon Sep 17 00:00:00 2001
From: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
Date: Tue, 26 Jan 2016 20:19:43 +1100
Subject: [PATCH] d3d11: Fake ID3D11Device CheckFormatSupport supported formats

More Information
https://msdn.microsoft.com/en-us/library/windows/desktop/mt427455%28v=vs.85%29.aspx#

Signed-off-by: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
---
 dlls/d3d11/device.c | 34 +++++++++++++++++++++++++++++++++-
 1 file changed, 33 insertions(+), 1 deletion(-)

diff --git a/dlls/d3d11/device.c b/dlls/d3d11/device.c
index fb308d0..4b7a1b0 100644
--- a/dlls/d3d11/device.c
+++ b/dlls/d3d11/device.c
@@ -2417,7 +2417,39 @@ static HRESULT STDMETHODCALLTYPE d3d11_device_CheckFormatSupport(ID3D11Device *i
 {
     FIXME("iface %p, format %u, format_support %p stub!\n", iface, format, format_support);
 
-    return E_NOTIMPL;
+    *format_support = D3D11_FORMAT_SUPPORT_BUFFER   |
+  D3D11_FORMAT_SUPPORT_IA_VERTEX_BUFFER             |
+  D3D11_FORMAT_SUPPORT_IA_INDEX_BUFFER              |
+  D3D11_FORMAT_SUPPORT_SO_BUFFER                    |
+  D3D11_FORMAT_SUPPORT_TEXTURE1D                    |
+  D3D11_FORMAT_SUPPORT_TEXTURE2D                    |
+  D3D11_FORMAT_SUPPORT_TEXTURE3D                    |
+  D3D11_FORMAT_SUPPORT_TEXTURECUBE                  |
+  D3D11_FORMAT_SUPPORT_SHADER_LOAD                  |
+  D3D11_FORMAT_SUPPORT_SHADER_SAMPLE                |
+  D3D11_FORMAT_SUPPORT_SHADER_SAMPLE_COMPARISON     |
+  D3D11_FORMAT_SUPPORT_SHADER_SAMPLE_MONO_TEXT      |
+  D3D11_FORMAT_SUPPORT_MIP                          |
+  D3D11_FORMAT_SUPPORT_MIP_AUTOGEN                  |
+  D3D11_FORMAT_SUPPORT_RENDER_TARGET                |
+  D3D11_FORMAT_SUPPORT_BLENDABLE                    |
+  D3D11_FORMAT_SUPPORT_DEPTH_STENCIL                |
+  D3D11_FORMAT_SUPPORT_CPU_LOCKABLE                 |
+  D3D11_FORMAT_SUPPORT_MULTISAMPLE_RESOLVE          |
+  D3D11_FORMAT_SUPPORT_DISPLAY                      |
+  D3D11_FORMAT_SUPPORT_CAST_WITHIN_BIT_LAYOUT       |
+  D3D11_FORMAT_SUPPORT_MULTISAMPLE_RENDERTARGET     |
+  D3D11_FORMAT_SUPPORT_MULTISAMPLE_LOAD             |
+  D3D11_FORMAT_SUPPORT_SHADER_GATHER                |
+  D3D11_FORMAT_SUPPORT_BACK_BUFFER_CAST             |
+  D3D11_FORMAT_SUPPORT_TYPED_UNORDERED_ACCESS_VIEW  |
+  D3D11_FORMAT_SUPPORT_SHADER_GATHER_COMPARISON     |
+  D3D11_FORMAT_SUPPORT_DECODER_OUTPUT               |
+  D3D11_FORMAT_SUPPORT_VIDEO_PROCESSOR_OUTPUT       |
+  D3D11_FORMAT_SUPPORT_VIDEO_PROCESSOR_INPUT        |
+  D3D11_FORMAT_SUPPORT_VIDEO_ENCODER;
+
+    return S_OK;
 }
 
 static HRESULT STDMETHODCALLTYPE d3d11_device_CheckMultisampleQualityLevels(ID3D11Device *iface,
-- 
2.7.0.rc3

