From 1a4564d58d0ac151a69c7538fdb41f2fd7dcdd1b Mon Sep 17 00:00:00 2001
From: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
Date: Mon, 29 May 2017 08:58:38 +1000
Subject: [PATCH] wmvcore: Implement WMCreateWriterPriv

Fixes: https://bugs.winehq.org/show_bug.cgi?id=32809

Signed-off-by: Alistair Leslie-Hughes <leslie_alistair@hotmail.com>
---
 dlls/wmvcore/wmvcore.spec | 2 +-
 dlls/wmvcore/writer.c     | 5 +++++
 2 files changed, 6 insertions(+), 1 deletion(-)

diff --git a/dlls/wmvcore/wmvcore.spec b/dlls/wmvcore/wmvcore.spec
index bb17683..c8f582b 100644
--- a/dlls/wmvcore/wmvcore.spec
+++ b/dlls/wmvcore/wmvcore.spec
@@ -15,6 +15,6 @@
 @ stdcall WMCreateWriter(ptr ptr)
 @ stub WMCreateWriterFileSink
 @ stub WMCreateWriterNetworkSink
-@ stub WMCreateWriterPriv
+@ stdcall WMCreateWriterPriv(ptr)
 @ stub WMCreateWriterPushSink
 @ stub WMIsContentProtected
diff --git a/dlls/wmvcore/writer.c b/dlls/wmvcore/writer.c
index f570148..c1c30be 100644
--- a/dlls/wmvcore/writer.c
+++ b/dlls/wmvcore/writer.c
@@ -369,3 +369,8 @@ HRESULT WINAPI WMCreateWriter(IUnknown *reserved, IWMWriter **writer)
     *writer = &ret->IWMWriter_iface;
     return S_OK;
 }
+
+HRESULT WINAPI WMCreateWriterPriv(IWMWriter **writer)
+{
+    return WMCreateWriter(NULL, writer);
+}
-- 
1.9.1

